#!/bin/bash

# For reseting text color
NORMAL="$(tput sgr0)"
# Title and loading color
PURPLE="$(tput setaf 92)"
# Warning  color
LIGHT_RED="$(tput setaf 197)"

# Tables that will have their data copied
TABLES=$(cat tables.txt)
TABLES_ARRAY=($TABLES)

# only used when doing the first initial dump to not copy over table definitions
EXCLUDE_TABLES_FROM_INITIAL_DUMP="appraisal_company_aud appraisal_company_file_aud quote_response_aud appraisal_due_date_aud appraisal_engager_aud appraisal_lock_aud appraiser_coverage_area_aud appraiser_license_aud appraiser_license_type_aud appraiser_profile_file_aud appraiser_profile_file_type_aud appraiser_rate_aud appraiser_rate_table_aud appraiser_user_profile_aud auto_assign_appraiser_coverage_area_aud cell_phone_carrier_aud client_company_appraiser_auto_assign_aud client_company_aud client_company_do_not_use_appraiser_aud client_company_rate_aud client_company_rate_table_aud client_company_selected_child_company_aud	client_invoice_approver_aud client_payment_analysis_aud client_payment_aud client_user_profile_aud complexity_aud conditional_special_instructions_aud credit_card_payment_aud credit_card_payment_status_aud credit_card_type_aud delayed_action_aud delivery_packet_aud delivery_packet_recipient_aud echeck_payment_aud echeck_payment_status_aud email_event_aud escalation_engager_aud flag_label_aud inspection_order_aud intended_use_aud investor_blacklist_record_aud invite_aud office_note_aud order_contact_aud order_file_type_aud order_status_aud order_type_aud payment_batch_aud payment_batch_status_aud payment_method_aud payment_status_aud payment_term_aud product_aud product_order_aud product_order_file_aud product_order_file_ext_aud product_order_message_aud product_order_message_type_aud product_order_payment_aud product_order_payment_status_aud product_order_status_history_aud product_order_timecard_aud property_type_aud quote_aud reference_time_zone_aud secure_payment_aud security_area_aud security_authority_aud security_role_aud security_role_authorities_aud security_user_aud slack_notification_aud staff_company_aud staff_user_profile_aud task_reminder_aud transaction_type_aud reference_amb reference_county reference_data reference_date reference_msa reference_parameter reference_population_zipcode reference_product_to_proteck_family reference_proteck_family_fees reference_state reference_svi_family_fees reference_time_zone reference_zipcode v_appraisal_details v_appraiser_doc_w9_id v_appraiser_profile_counties v_county v_new_released_file v_old_released_file v_order_air v_order_details v_order_status_history v_reference_population_zipcode v_released_file v_released_status_history v_updated_product_order v_update_content v_uploaded_env_file"

# Columns that need to be obfuscated
APPRAISAL_COMPANY_COLUMNS="company_email_address company_fax company_work_phone routing_number bank_account_number billing_email_address quick_books_id w9ein"
APPRAISAL_DATA_PARTIES_COLUMNS="supervisor_phone supervisor_email"
APPRAISER_USER_PROFILE_COLUMNS="bank_account_number company_email_address quick_books_id routing_number tax_id w9ein w9ssn billing_email_address"
ASC_APPRAISER_COLUMNS="company_phone"
CLIENT_COMPANY_COLUMNS="company_fax company_work_phone company_email_address main_contact_work_phone main_contact_email_address billing_contact_email_address billing_contact_work_phone fee_approval_email quick_books_id main_contact_work_phone"
CLIENT_INVOICE_APPROVER_COLUMNS="email_address"
CLIENT_PAYMENT_TYPE_COLUMNS="quickbooks_code"
COMPANY_COLUMNS="email"
CONTACT_COLUMNS="email home_phone cell_phone work_phone"
DELIVERY_PACKET_RECIPIENT_COLUMNS="email"
ECHECK_PAYMENT_COLUMNS="check_account_number check_routing_number"
EMAIL_CAPTURE_COLUMNS="email_to email_from"
EMAIL_EVENT_COLUMNS="email_to"
EMAIL_LOG_COLUMNS="email_from email_to"
EMAIL_STATS_COLUMNS="recipient"
EMAIL_VERIFICATION_COLUMNS="email_address"
ESCALATION_ENGAGER_COLUMNS="email"
EXPRESS_DATA_USER_COLUMNS="email cell_phone"
FOLLOW_APPRAISER_COLUMNS="slack_id"
ORDER_CONTACT_COLUMNS="email home_phone cell_phone work_phone"
PRODUCT_ORDER_COLUMNS="borrower_email_address co_borrower_email_address property_contact_cell_phone check_number property_contact_email_address property_contact_home_phone property_contact_work_phone routing_number"
QUOTE_COLUMNS="contact_email"
RULE_COLUMNS="emails"
SCHEDULED_EMAIL_COLUMNS="email_recipient"
SECURE_LINK_COLUMNS="recipient_email sender_email"
SECURE_PAYMENT_COLUMNS="recipient_email"
SECURITY_USER_COLUMNS="cell_phone work_phone email_address slack_id"
SEND_GRID_EVENT_COLUMNS="email"
SEND_GRID_MESSAGE_RECIPIENT_COLUMNS="email_address"
SLACK_NOTIFICATION_COLUMNS="slack_id"
STAFF_COMPANY_COLUMNS="company_email_address company_fax company_work_phone"
TASK_REMINDER_COLUMNS="slack_reminder_id"
TEXT_MESSAGE_COLUMNS="phone_number"

# All tables that need to be recopied each time and therefore deleted each time
DO_NOT_STORE_KEY_TABLES="alert_type amc_blacklist_appraisers amc_blacklist_intended_uses amc_blacklist_reports appraisal_reports appraiser_calendar_event appraiser_license_type appraiser_panel_clients appraiser_profile_file_type hightatstate intended_use order_file_type order_status payment_method posh_current product_order_message_type product_order_payment_status product property_type quote_engagers staff_company_license status_history_revisions transaction_type t_last_appraisal"

## Information for Production database
SOW_HOST=""
SOW_DB=""
SOW_USERNAME=""
SOW_PASSWORD=""

# Information for UAT database
REAP_HOST=""
REAP_DB=""
REAP_USERNAME=""
REAP_PASSWORD=""

# Replace rows or insert ignore rows
REPLACE=false

EMAIL_LOG_RECIPIENT="gabriel.rau@stewart.com"
